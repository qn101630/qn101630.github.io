<!DOCTYPE html>
<html lang="zh-CN">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="南有乔木" />


    
    


<meta name="description" content="hexo博客">
<meta property="og:type" content="website">
<meta property="og:title" content="南有乔木的技术博客专栏">
<meta property="og:url" content="http:&#x2F;&#x2F;yoursite.com&#x2F;index.html">
<meta property="og:site_name" content="南有乔木的技术博客专栏">
<meta property="og:description" content="hexo博客">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="南有乔木的技术博客专栏" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">


    <style> .article { opacity: 0;} </style>


<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>南有乔木的技术博客专栏</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: true,
        isPost: false,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/sex.jpg" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">南有乔木</a></h1>
        </hgroup>

        
        <p class="header-subtitle">学习笔记</p>
        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="false" />
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class='no-result'>No results found <i class='fa fa-spinner fa-pulse'></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">大狗哥</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="/1150887961@qq.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%92%8C/" rel="tag">$和#</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearch-HTTP%E6%93%8D%E4%BD%9C/" rel="tag">Elasticsearch HTTP操作</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearch-%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%AE%89%E8%A3%85/" rel="tag">Elasticsearch 介绍与安装</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearch-%E4%BD%BF%E7%94%A8/" rel="tag">Elasticsearch 使用</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearch-%E5%88%86%E5%B8%83%E5%BC%8F%E5%8E%9F%E7%90%86/" rel="tag">Elasticsearch 分布式原理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Elasticsearch-%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E5%8E%9F%E7%90%86/" rel="tag">Elasticsearch 搜索引擎原理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis-Dao/" rel="tag">Mybatis Dao</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis-Encache/" rel="tag">Mybatis Encache</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis-mapper/" rel="tag">Mybatis mapper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis-%E5%8A%A8%E6%80%81sql/" rel="tag">Mybatis 动态sql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis-%E5%BB%B6%E8%BF%9F%E5%8A%A0%E8%BD%BD/" rel="tag">Mybatis 延迟加载</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis-%E6%95%B0%E6%8D%AE%E6%A8%A1%E5%9E%8B/" rel="tag">Mybatis 数据模型</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis-%E6%98%A0%E5%B0%84/" rel="tag">Mybatis 映射</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis-%E6%A6%82%E8%BF%B0/" rel="tag">Mybatis 概述</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis-%E7%BC%93%E5%AD%98/" rel="tag">Mybatis 缓存</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Mybatis-%E9%85%8D%E7%BD%AE/" rel="tag">Mybatis 配置</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis-%E5%88%86%E5%B8%83%E5%BC%8Fsession/" rel="tag">Redis 分布式session</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/condig%E5%AE%9E%E6%88%98-%E6%9C%8D%E5%8A%A1%E5%8C%96%E4%B8%8E%E9%AB%98%E5%8F%AF%E7%94%A8/" rel="tag">condig实战 服务化与高可用</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/config-%E9%85%8D%E7%BD%AE%E4%B8%AD%E5%BF%83/" rel="tag">config 配置中心</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/config%E5%AE%9E%E6%88%98-%E5%88%9D%E4%BD%93%E9%AA%8C/" rel="tag">config实战 初体验</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/config%E5%AE%9E%E6%88%98-%E5%8A%A8%E6%80%81%E5%88%B7%E6%96%B0/" rel="tag">config实战 动态刷新</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/config%E5%AE%9E%E6%88%98-%E5%8A%A8%E6%80%81%E5%88%B7%E6%96%B0%EF%BC%88Bus%EF%BC%89/" rel="tag">config实战 动态刷新（Bus）</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cpu/" rel="tag">cpu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker-kafka%E5%AE%89%E8%A3%85/" rel="tag">docker kafka安装</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker-%E5%AE%9E%E6%88%98/" rel="tag">docker 实战</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eureka-%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0/" rel="tag">eureka 服务发现</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eureka%E5%AE%9E%E6%88%98/" rel="tag">eureka实战</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/feign-%E6%9C%8D%E5%8A%A1%E6%8E%A5%E5%8F%A3%E5%8C%96/" rel="tag">feign 服务接口化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/feign%E5%AE%9E%E6%88%98/" rel="tag">feign实战</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hystrix-%E7%86%94%E6%96%AD%E5%99%A8/" rel="tag">hystrix 熔断器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hystrix%E5%AE%9E%E6%88%98-%E5%8D%95%E5%BA%94%E7%94%A8%E7%9B%91%E6%8E%A7/" rel="tag">hystrix实战 单应用监控</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-IO/" rel="tag">java IO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-%E4%BB%A3%E7%90%86/" rel="tag">java 代理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-%E5%8F%8D%E5%B0%84/" rel="tag">java 反射</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-%E5%BC%82%E5%B8%B8/" rel="tag">java 异常</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java-%E6%B3%9B%E5%9E%8B/" rel="tag">java 泛型</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%B9%B6%E5%8F%91-%E5%9F%BA%E7%A1%80/" rel="tag">java并发 基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%B9%B6%E5%8F%91-%E5%9F%BA%E7%A1%80-%E5%B9%B6%E5%8F%91%E6%A8%A1%E6%8B%9F/" rel="tag">java并发 基础 并发模拟</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%B9%B6%E5%8F%91-%E5%9F%BA%E7%A1%80-%E8%AF%BE%E7%A8%8B%E5%AF%BC%E5%AD%A6/" rel="tag">java并发 基础 课程导学</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%B9%B6%E5%8F%91-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8/" rel="tag">java并发 线程安全</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%B9%B6%E5%8F%91-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-ReetrantLock/" rel="tag">java并发 线程安全 ReetrantLock</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%B9%B6%E5%8F%91-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-synchronized/" rel="tag">java并发 线程安全 synchronized</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%B9%B6%E5%8F%91-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E4%B8%8D%E5%8F%AF%E5%8F%98%E5%AF%B9%E8%B1%A1/" rel="tag">java并发 线程安全 不可变对象</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%B9%B6%E5%8F%91-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E4%B8%8D%E5%AE%89%E5%85%A8%E7%B1%BB%E5%92%8C%E5%86%99%E6%B3%95/" rel="tag">java并发 线程安全 不安全类和写法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%B9%B6%E5%8F%91-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E5%90%8C%E6%AD%A5%E5%AE%B9%E5%99%A8/" rel="tag">java并发 线程安全 同步容器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%B9%B6%E5%8F%91-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E5%AE%89%E5%85%A8%E5%8F%91%E5%B8%83%E5%AF%B9%E8%B1%A1/" rel="tag">java并发 线程安全 安全发布对象</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%B9%B6%E5%8F%91-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E5%B9%B6%E5%8F%91%E5%AE%B9%E5%99%A8/" rel="tag">java并发 线程安全 并发容器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%B9%B6%E5%8F%91-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E6%AD%BB%E9%94%81/" rel="tag">java并发 线程安全 死锁</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%B9%B6%E5%8F%91-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E7%BA%BF%E7%A8%8B%E5%B0%81%E9%97%AD/" rel="tag">java并发 线程安全 线程封闭</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java%E5%B9%B6%E5%8F%91-%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8-%E9%94%81/" rel="tag">java并发 线程安全 锁</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jvm-GC%E5%88%86%E6%9E%90/" rel="tag">jvm GC分析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jvm-java8/" rel="tag">jvm java8</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jvm-%E5%86%85%E5%AD%98%E7%BB%93%E6%9E%84/" rel="tag">jvm 内存结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jvm-%E5%91%BD%E4%BB%A4%E8%B0%83%E4%BC%98/" rel="tag">jvm 命令调优</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jvm-%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6/" rel="tag">jvm 垃圾回收</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jvm-%E5%AD%A6%E4%B9%A0%E5%AF%BC%E8%AF%BB/" rel="tag">jvm 学习导读</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jvm-%E7%B1%BB%E5%8A%A0%E8%BD%BD/" rel="tag">jvm 类加载</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka-zookeeper/" rel="tag">kafka zookeeper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka-%E5%81%8F%E7%A7%BB%E9%87%8F/" rel="tag">kafka 偏移量</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka-%E6%B6%88%E6%81%AF%E9%AB%98%E5%8F%AF%E7%94%A8/" rel="tag">kafka 消息高可用</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka-%E6%B6%88%E8%B4%B9%E8%80%85%E7%BB%84/" rel="tag">kafka 消费者组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka-%E7%94%9F%E4%BA%A7%E8%80%85/" rel="tag">kafka 生产者</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka-%E9%AB%98%E5%90%9E%E5%90%90%E9%87%8F%E5%8F%8A%E6%8C%81%E4%B9%85%E5%8C%96%E6%B6%88%E6%81%AF/" rel="tag">kafka 高吞吐量及持久化消息</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka%E5%85%A5%E9%97%A8/" rel="tag">kafka入门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka%E6%B6%88%E8%B4%B9%E8%80%85/" rel="tag">kafka消费者</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux-shell/" rel="tag">linux shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/" rel="tag">linux 定时任务</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven-pom/" rel="tag">maven pom</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven-%E4%BB%93%E5%BA%93/" rel="tag">maven 仓库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven-%E4%BE%9D%E8%B5%96%E5%86%B2%E7%AA%81/" rel="tag">maven 依赖冲突</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven-%E5%91%BD%E4%BB%A4%E6%9E%84%E5%BB%BA%E9%A1%B9%E7%9B%AE/" rel="tag">maven 命令构建项目</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven-%E5%BC%95%E5%85%A5%E5%A4%96%E9%83%A8%E4%BE%9D%E8%B5%96/" rel="tag">maven 引入外部依赖</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven-%E6%8F%92%E4%BB%B6/" rel="tag">maven 插件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven-%E6%9E%84%E5%BB%BA%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" rel="tag">maven 构建生命周期</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven-%E6%A6%82%E8%BF%B0/" rel="tag">maven 概述</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven-%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2/" rel="tag">maven 自动化部署</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/" rel="tag">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E4%BA%8B%E5%8A%A1/" rel="tag">redis 事务</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E5%85%A5%E9%97%A8/" rel="tag">redis 入门</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81/" rel="tag">redis 分布式锁</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E9%97%AE%E9%A2%98/" rel="tag">redis 分布式锁问题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E5%9F%BA%E7%A1%80%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" rel="tag">redis 基础数据结构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E5%AE%89%E8%A3%85/" rel="tag">redis 安装</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E5%AE%9E%E6%88%98/" rel="tag">redis 实战</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E5%AE%A2%E6%88%B7%E7%AB%AF/" rel="tag">redis 客户端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E5%AE%A2%E6%88%B7%E7%AB%AF%E4%B8%8E%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%9A%84%E9%80%9A%E4%BF%A1/" rel="tag">redis 客户端与服务端的通信</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E6%8C%81%E4%B9%85%E5%8C%96/" rel="tag">redis 持久化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E6%95%B0%E6%8D%AE%E5%A4%87%E4%BB%BD%E3%80%81%E6%81%A2%E5%A4%8D%E4%B8%8E%E8%BF%81%E7%A7%BB/" rel="tag">redis 数据备份、恢复与迁移</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E6%B6%88%E6%81%AF%E5%8F%91%E5%B8%83%E5%92%8C%E8%AE%A2%E9%98%85/" rel="tag">redis 消息发布和订阅</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" rel="tag">redis 消息队列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E6%B7%98%E6%B1%B0%E7%AD%96%E7%95%A5/" rel="tag">redis 淘汰策略</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E7%BA%BF%E7%A8%8B%E6%B1%A0/" rel="tag">redis 线程池</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E7%BC%93%E5%AD%98%E4%BA%94%E5%A4%A7%E9%97%AE%E9%A2%98/" rel="tag">redis 缓存五大问题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E7%BC%93%E5%86%B2%E5%8C%BA/" rel="tag">redis 输入输出缓冲区</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E9%98%BB%E5%A1%9E%E5%88%86%E6%9E%90/" rel="tag">redis 阻塞分析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis-%E9%9B%86%E7%BE%A4%E5%8F%8A%E6%95%B0%E6%8D%AE%E5%88%86%E7%89%87/" rel="tag">redis 集群及数据分片</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/reids-%E4%B8%BB%E4%BB%8E%E5%A4%8D%E5%88%B6/" rel="tag">reids 主从复制</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ribbon-%E8%B4%9F%E8%BD%BD%E5%9D%87%E8%A1%A1/" rel="tag">ribbon 负载均衡</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ribbon%E5%AE%9E%E6%88%98/" rel="tag">ribbon实战</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ribbon%E6%9C%8D%E5%8A%A1%E7%BD%91%E5%85%B3/" rel="tag">ribbon服务网关</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sprinboot-%E5%AE%9E%E6%88%98/" rel="tag">sprinboot 实战</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-AOP/" rel="tag">spring AOP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-ApplicationContext/" rel="tag">spring ApplicationContext</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-Bean%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F/" rel="tag">spring Bean的生命周期</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-IOC/" rel="tag">spring IOC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-MVC/" rel="tag">spring MVC</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-%E4%BA%8B%E5%8A%A1/" rel="tag">spring 事务</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-%E6%A6%82%E8%BF%B0/" rel="tag">spring 概述</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-%E6%B3%A8%E8%A7%A3/" rel="tag">spring 注解</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-%E6%B3%A8%E8%A7%A3%E5%BC%8F%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/" rel="tag">spring 注解式源码解析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/springboot-%E5%8E%9F%E7%90%86/" rel="tag">springboot 原理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/springboot-%E5%AE%9E%E6%88%98/" rel="tag">springboot 实战</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" rel="tag">tomcat 性能优化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat-%E8%A7%A3%E6%9E%90/" rel="tag">tomcat 解析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat-%E9%85%8D%E7%BD%AE/" rel="tag">tomcat 配置</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zuul%E5%AE%9E%E6%88%98/" rel="tag">zuul实战</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%8B%E7%BB%8D-%E5%AE%89%E8%A3%85/" rel="tag">介绍 安装</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%A4%9A%E5%BA%94%E7%94%A8%E7%9B%91%E6%8E%A7-turbine/" rel="tag">多应用监控 turbine</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%B9%E5%99%A8-ArrayList/" rel="tag">容器 ArrayList</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%B9%E5%99%A8-ConcurrentHashMap/" rel="tag">容器 ConcurrentHashMap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%B9%E5%99%A8-HashMap/" rel="tag">容器 HashMap</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%B9%E5%99%A8-LinkedList/" rel="tag">容器 LinkedList</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%B9%E5%99%A8-%E6%A6%82%E8%BF%B0/" rel="tag">容器 概述</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1-%E6%9C%8D%E5%8A%A1%E5%8F%91%E7%8E%B0/" rel="tag">微服务 服务发现</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BE%AE%E6%9C%8D%E5%8A%A1%E4%BB%8B%E7%BB%8D/" rel="tag">微服务介绍</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E5%A0%86%E3%80%81%E5%93%88%E5%B8%8C%E8%A1%A8%E3%80%81%E5%9B%BE/" rel="tag">数据结构 堆、哈希表、图</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%95%B0%E7%BB%84/" rel="tag">数据结构 数组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A0%88/" rel="tag">数据结构 栈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E6%A0%91/" rel="tag">数据结构 树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E9%93%BE%E8%A1%A8/" rel="tag">数据结构 链表</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84-%E9%98%9F%E5%88%97/" rel="tag">数据结构 队列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95-%E7%AE%80%E4%BB%8B/" rel="tag">数据结构与算法 简介</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E5%BF%97-Log4j/" rel="tag">日志 Log4j</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B6%88%E6%81%AF%E4%B8%AD%E9%97%B4%E4%BB%B6-RabbitMQ/" rel="tag">消息中间件 RabbitMQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95-%E6%8E%92%E5%BA%8F/" rel="tag">算法 排序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AE%97%E6%B3%95-%E6%90%9C%E7%B4%A2/" rel="tag">算法 搜索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%AB%98%E5%B9%B6%E5%8F%91-%E5%BA%94%E7%94%A8%E6%8B%86%E5%88%86/" rel="tag">高并发 应用拆分</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%AB%98%E5%B9%B6%E5%8F%91-%E5%BA%94%E7%94%A8%E9%99%90%E6%B5%81/" rel="tag">高并发 应用限流</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%AB%98%E5%B9%B6%E5%8F%91-%E6%89%A9%E5%AE%B9/" rel="tag">高并发 扩容</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%AB%98%E5%B9%B6%E5%8F%91-%E6%95%B0%E6%8D%AE%E5%BA%93%E5%88%86%E5%BA%93%E3%80%81%E5%88%87%E5%BA%93%E3%80%81%E5%88%86%E8%A1%A8/" rel="tag">高并发 数据库分库、切库、分表</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%AB%98%E5%B9%B6%E5%8F%91-%E6%9C%8D%E5%8A%A1%E9%99%8D%E7%BA%A7%E5%92%8C%E7%86%94%E6%96%AD/" rel="tag">高并发 服务降级和熔断</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%AB%98%E5%B9%B6%E5%8F%91-%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97/" rel="tag">高并发 消息队列</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%AB%98%E5%B9%B6%E5%8F%91-%E7%BC%93%E5%AD%98/" rel="tag">高并发 缓存</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%AB%98%E5%B9%B6%E5%8F%91-%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99/" rel="tag">高并发 设计原则</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%AB%98%E5%B9%B6%E5%8F%91-%E9%AB%98%E5%8F%AF%E7%94%A8/" rel="tag">高并发 高可用</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="https://hexo.io" target="_blank" rel="noopener">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" href="https://pages.github.com/" target="_blank" rel="noopener">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://moxfive.xyz/" target="_blank" rel="noopener">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">专注于前端</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">南有乔木</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/sex.jpg" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">南有乔木</a></h1>
            </hgroup>
            
            <p class="header-subtitle">学习笔记</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">大狗哥</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="/1150887961@qq.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap">
  
    <article
  id="post-Nginx——配置文件实战"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
>
  
  <div class="article-meta">
    <a href="/2020/07/27/Nginx%E2%80%94%E2%80%94%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%AE%9E%E6%88%98/" class="article-date">
      <time datetime="2020-07-27T06:27:57.000Z" itemprop="datePublished">2020-07-27</time>
</a>

 
    <a href="/2020/07/27/Nginx%E2%80%94%E2%80%94%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%AE%9E%E6%88%98/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2020/07/27/Nginx——配置文件实战/"></span>
        
    </a>

  </div>
  
  <div class="article-inner">
    
    <input type="hidden" class="isFancy" />
     
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/27/Nginx%E2%80%94%E2%80%94%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%AE%9E%E6%88%98/">Nginx——配置文件实战</a>
    </h1>
  
 
    </header>
     
    <div class="article-entry" itemprop="articleBody">
        <h1 id="配置文件结构"><a href="#配置文件结构" class="headerlink" title="配置文件结构"></a>配置文件结构</h1><p>Nginx 配置文件由三部分组成：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">...</span>              <span class="string">#全局块</span></span><br><span class="line"></span><br><span class="line"><span class="attr">events</span> <span class="string">&#123;         #events块</span></span><br><span class="line">   <span class="attr">...</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">http</span>      <span class="string">#http块</span></span><br><span class="line"><span class="attr">&#123;</span></span><br><span class="line">    <span class="meta">...</span>   <span class="string">#http全局块</span></span><br><span class="line">    <span class="attr">server</span>        <span class="string">#server块</span></span><br><span class="line">    <span class="meta">&#123;</span> <span class="string"></span></span><br><span class="line">        <span class="meta">...</span>       <span class="string">#server全局块</span></span><br><span class="line">        <span class="attr">location</span> <span class="string">[PATTERN]   #location块</span></span><br><span class="line">        <span class="attr">&#123;</span></span><br><span class="line">            <span class="attr">...</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">        <span class="attr">location</span> <span class="string">[PATTERN] </span></span><br><span class="line">        <span class="attr">&#123;</span></span><br><span class="line">            <span class="attr">...</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">server</span></span><br><span class="line">    <span class="attr">&#123;</span></span><br><span class="line">      <span class="attr">...</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="meta">...</span>     <span class="string">#http全局块</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<ol>
<li><p>全局块</p>
<p> 主要设置一些影响 nginx 服务器整体运行的配置指令。<br> 比如： worker_processes 1; ， worker_processes 值越大，可以支持的并发处理量就越多。</p>
</li>
<li><p>events块</p>
<p> events 块涉及的指令主要影响Nginx服务器与用户的网络连接。<br> 比如： worker_connections 1024; ，支持的最大连接数。</p>
</li>
<li><p>http块</p>
<p> http 块又包括 http 全局块和 server 块，是服务器配置中最频繁的部分，包括配置代理、缓存、日志定义等绝大多数功能。<br> server块：配置虚拟主机的相关参数。<br> location块：配置请求路由，以及各种页面的处理情况。</p>
</li>
</ol>
<h1 id="配置文件样例"><a href="#配置文件样例" class="headerlink" title="配置文件样例"></a>配置文件样例</h1><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">########### 每个指令必须有分号结束。#################</span></span><br><span class="line"><span class="comment">#user administrator administrators;  #配置用户或者组，默认为nobody nobody。</span></span><br><span class="line"><span class="comment">#worker_processes 2;  #允许生成的进程数，默认为1</span></span><br><span class="line"><span class="comment">#pid /nginx/pid/nginx.pid;   #指定nginx进程运行文件存放地址</span></span><br><span class="line"><span class="attr">error_log</span> <span class="string">log/error.log debug;  #制定日志路径，级别。这个设置可以放入全局块，http块，server块，级别以此为：debug|info|notice|warn|error|crit|alert|emerg</span></span><br><span class="line"><span class="attr">events</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">accept_mutex</span> <span class="string">on;   #设置网路连接序列化，防止惊群现象发生，默认为on</span></span><br><span class="line">    <span class="attr">multi_accept</span> <span class="string">on;  #设置一个进程是否同时接受多个网络连接，默认为off</span></span><br><span class="line"><span class="comment">    #use epoll;      #事件驱动模型，select|poll|kqueue|epoll|resig|/dev/poll|eventport</span></span><br><span class="line">    <span class="attr">worker_connections</span>  <span class="string">1024;    #最大连接数，默认为512</span></span><br><span class="line"><span class="attr">&#125;</span></span><br><span class="line"><span class="attr">http</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">include</span>       <span class="string">mime.types;   #文件扩展名与文件类型映射表</span></span><br><span class="line">    <span class="attr">default_type</span>  <span class="string">application/octet-stream; #默认文件类型，默认为text/plain</span></span><br><span class="line"><span class="comment">    #access_log off; #取消服务日志    </span></span><br><span class="line">    <span class="attr">log_format</span> <span class="string">myFormat '$remote_addr–$remote_user [$time_local] $request $status $body_bytes_sent $http_referer $http_user_agent $http_x_forwarded_for'; #自定义格式</span></span><br><span class="line">    <span class="attr">access_log</span> <span class="string">log/access.log myFormat;  #combined为日志格式的默认值</span></span><br><span class="line">    <span class="attr">sendfile</span> <span class="string">on;   #允许sendfile方式传输文件，默认为off，可以在http块，server块，location块。</span></span><br><span class="line">    <span class="attr">sendfile_max_chunk</span> <span class="string">100k;  #每个进程每次调用传输数量不能大于设定的值，默认为0，即不设上限。</span></span><br><span class="line">    <span class="attr">keepalive_timeout</span> <span class="string">65;  #连接超时时间，默认为75s，可以在http，server，location块。</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">upstream</span> <span class="string">mysvr &#123;   </span></span><br><span class="line">      <span class="attr">server</span> <span class="string">127.0.0.1:7878;</span></span><br><span class="line">      <span class="attr">server</span> <span class="string">192.168.10.121:3333 backup;  #热备</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">error_page</span> <span class="string">404 https://www.baidu.com; #错误页</span></span><br><span class="line">    <span class="attr">server</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">keepalive_requests</span> <span class="string">120; #单连接请求上限次数。</span></span><br><span class="line">        <span class="attr">listen</span>       <span class="string">4545;   #监听端口</span></span><br><span class="line">        <span class="attr">server_name</span>  <span class="string">127.0.0.1;   #监听地址       </span></span><br><span class="line">        <span class="attr">location</span>  <span class="string">~*^.+$ &#123;       #请求的url过滤，正则匹配，~为区分大小写，~*为不区分大小写。</span></span><br><span class="line"><span class="comment">           #root path;  #根目录</span></span><br><span class="line"><span class="comment">           #index vv.txt;  #设置默认页</span></span><br><span class="line">           <span class="attr">proxy_pass</span>  <span class="string">http://mysvr;  #请求转向mysvr 定义的服务器列表</span></span><br><span class="line">           <span class="attr">deny</span> <span class="string">127.0.0.1;  #拒绝的ip</span></span><br><span class="line">           <span class="attr">allow</span> <span class="string">172.18.5.54; #允许的ip           </span></span><br><span class="line">        <span class="meta">&#125;</span> <span class="string"></span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<h1 id="实战"><a href="#实战" class="headerlink" title="实战"></a>实战</h1><h2 id="反向代理"><a href="#反向代理" class="headerlink" title="反向代理"></a>反向代理</h2><ol>
<li><p>浏览器输入监听地址端口，跳转到tomcat主界面</p>
 <figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">listen</span>       <span class="string">8888;   </span></span><br><span class="line">    <span class="attr">server_name</span>  <span class="string">127.0.0.1;   #监听地址</span></span><br><span class="line">   </span><br><span class="line">    <span class="attr">location</span>  <span class="string">/ &#123;       </span></span><br><span class="line">       <span class="attr">root</span> <span class="string">html;  #/html目录</span></span><br><span class="line">       <span class="attr">proxy_pass</span> <span class="string">http://127.0.0.1:8080;  #请求转向</span></span><br><span class="line">       <span class="attr">index</span>  <span class="string">index.html index.htm;      #设置默认页       </span></span><br><span class="line">    <span class="meta">&#125;</span> <span class="string"></span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>根据在浏览器输入的路径不同，跳转到不同端口的服务中。</p>
 <figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">listen</span>       <span class="string">8888;   </span></span><br><span class="line">    <span class="attr">server_name</span>  <span class="string">127.0.0.1;   #监听地址       </span></span><br><span class="line">    </span><br><span class="line">    <span class="attr">location</span>  <span class="string">~ /example1/ &#123;  </span></span><br><span class="line">       <span class="attr">proxy_pass</span> <span class="string">http://127.0.0.1:8080;         </span></span><br><span class="line">    <span class="meta">&#125;</span> <span class="string"></span></span><br><span class="line"></span><br><span class="line">    <span class="attr">location</span>  <span class="string">~ /example2/ &#123;  </span></span><br><span class="line">       <span class="attr">proxy_pass</span> <span class="string">http://127.0.0.1:8081;         </span></span><br><span class="line">    <span class="meta">&#125;</span> <span class="string"></span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

</li>
</ol>
<p>location 指令说明：</p>
<ul>
<li>~ : 表示uri包含正则表达式，且区分大小写。</li>
<li>~* : 表示uri包含正则表达式，且不区分大小写。</li>
<li>= : 表示uri不含正则表达式，要求严格匹配。</li>
</ul>
<h2 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h2><p>浏览器输入监听地址端口，平均跳转到tomcat不同端口主界面</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">upstream</span> <span class="string">myserver &#123;</span></span><br><span class="line">      <span class="attr">server</span> <span class="string">127.0.0.1:8081;</span></span><br><span class="line">      <span class="attr">server</span> <span class="string">127.0.0.1:8080;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="attr">server</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">listen</span>       <span class="string">8888;   #监听端口</span></span><br><span class="line">        <span class="attr">server_name</span>  <span class="string">127.0.0.1;   #监听地址</span></span><br><span class="line"></span><br><span class="line">        <span class="attr">location</span>  <span class="string">/ &#123;</span></span><br><span class="line">           <span class="attr">root</span> <span class="string">html;  #html目录</span></span><br><span class="line">           <span class="attr">index</span> <span class="string">index.html index.htm;  #设置默认页</span></span><br><span class="line">           <span class="attr">proxy_pass</span>  <span class="string">http://myserver;  #请求转向 myserver 定义的服务器列表</span></span><br><span class="line">        <span class="attr">&#125;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<p>负载均衡策略</p>
<p>轮询（默认）</p>
<p>按请求的时间顺序依次逐一分配，如果服务器down掉，能自动剔除。</p>
<p>权重</p>
<p>weight 越高，被分配的客户端越多，默认为 1。比如：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">upstream</span> <span class="string">myserver &#123;</span></span><br><span class="line">      <span class="attr">server</span> <span class="string">127.0.0.1:8081 weight=10;</span></span><br><span class="line">      <span class="attr">server</span> <span class="string">127.0.0.1:8080 weight=5;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ip</p>
<p>按请求 ip 的 hash 值分配，每个访客固定访问一个后端服务器。比如：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">upstream</span> <span class="string">myserver &#123;</span></span><br><span class="line">      <span class="attr">ip_hash;</span></span><br><span class="line">      <span class="attr">server</span> <span class="string">127.0.0.1:8081;</span></span><br><span class="line">      <span class="attr">server</span> <span class="string">127.0.0.1:8080;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<p>fair</p>
<p>按后端服务器的响应时间来分配，响应时间短的优先分配到请求。比如：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">upstream</span> <span class="string">myserver &#123;</span></span><br><span class="line">      <span class="attr">server</span> <span class="string">127.0.0.1:8081;</span></span><br><span class="line">      <span class="attr">server</span> <span class="string">127.0.0.1:8080;</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="正向代理"><a href="#正向代理" class="headerlink" title="正向代理"></a>正向代理</h2><p>我们需要通过能连接到具体网址的代理服务器，来完成正向代理。</p>
<p>nginx配置：</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server</span> <span class="string">&#123;  </span></span><br><span class="line">    <span class="attr">resolver</span> <span class="string">114.114.114.114;       #指定DNS服务器IP地址  </span></span><br><span class="line">    <span class="attr">listen</span> <span class="string">8080;  </span></span><br><span class="line">    <span class="attr">location</span> <span class="string">/ &#123;  </span></span><br><span class="line">        <span class="attr">proxy_pass</span> <span class="string">http://$http_host$request_uri;     #设定代理服务器的协议和地址  </span></span><br><span class="line">    <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"><span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"></span><br><span class="line"><span class="meta">以上的配置只能访问80</span> <span class="string">端口的网站，而不能访问https443端口的网站，现在的网站基本上都是https的要解决技能访问http80端口也能访问https443端口的网站，需要置两个SERVER节点，一个处理HTTP转发，另一个处理HTTPS转发。</span></span><br><span class="line"></span><br><span class="line"><span class="attr">```properties</span></span><br><span class="line"><span class="attr">server</span> <span class="string">&#123;  </span></span><br><span class="line">    <span class="attr">resolver</span> <span class="string">114.114.114.114;       #指定DNS服务器IP地址  </span></span><br><span class="line">    <span class="attr">listen</span> <span class="string">80;  </span></span><br><span class="line">    <span class="attr">location</span> <span class="string">/ &#123;  </span></span><br><span class="line">        <span class="attr">proxy_pass</span> <span class="string">http://$http_host$request_uri;     #设定代理服务器的协议和地址  </span></span><br><span class="line">                <span class="attr">proxy_set_header</span> <span class="string">HOST $http_host;</span></span><br><span class="line">                <span class="attr">proxy_buffers</span> <span class="string">256 4k;</span></span><br><span class="line">                <span class="attr">proxy_max_temp_file_size</span> <span class="string">0k; </span></span><br><span class="line">                <span class="attr">proxy_connect_timeout</span> <span class="string">30;</span></span><br><span class="line">                <span class="attr">proxy_send_timeout</span> <span class="string">60;</span></span><br><span class="line">                <span class="attr">proxy_read_timeout</span> <span class="string">60;</span></span><br><span class="line">                <span class="attr">proxy_next_upstream</span> <span class="string">error timeout invalid_header http_502;</span></span><br><span class="line">    <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"><span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"><span class="attr">server</span> <span class="string">&#123;  </span></span><br><span class="line">    <span class="attr">resolver</span> <span class="string">114.114.114.114;       #指定DNS服务器IP地址  </span></span><br><span class="line">    <span class="attr">listen</span> <span class="string">443;  </span></span><br><span class="line">    <span class="attr">location</span> <span class="string">/ &#123;  </span></span><br><span class="line">       <span class="attr">proxy_pass</span> <span class="string">https://$host$request_uri;    #设定代理服务器的协议和地址  </span></span><br><span class="line">             <span class="attr">proxy_buffers</span> <span class="string">256 4k;</span></span><br><span class="line">             <span class="attr">proxy_max_temp_file_size</span> <span class="string">0k; </span></span><br><span class="line">       <span class="attr">proxy_connect_timeout</span> <span class="string">30;</span></span><br><span class="line">       <span class="attr">proxy_send_timeout</span> <span class="string">60;</span></span><br><span class="line">       <span class="attr">proxy_read_timeout</span> <span class="string">60;</span></span><br><span class="line">       <span class="attr">proxy_next_upstream</span> <span class="string">error timeout invalid_header http_502;</span></span><br><span class="line">    <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<p>客户端使用：</p>
<p>client端：<br>一次代理，直接在shell执行：</p>
<pre><code>#export http_proxy=http://192.168.1.9:8080</code></pre><p>永久使用：</p>
<pre><code>#vim .bashrc export http_proxy=http://192.168.1.9:8080
#source  .bashrc</code></pre><h2 id="Nginx缓存"><a href="#Nginx缓存" class="headerlink" title="Nginx缓存"></a>Nginx缓存</h2><p>在3天内，通过浏览器地址栏访问 <a href="http://192.168.4.32/a.jpg" target="_blank" rel="noopener">http://192.168.4.32/a.jpg</a> ，不会从服务器抓取资源，3天后（过期）则从服务器重新下载。</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># http 区域下添加缓存区配置 </span></span><br><span class="line"><span class="attr">proxy_cache_path</span> <span class="string">/tmp/nginx_proxy_cache levels=1 keys_zone=cache_one:512m inactive=60s max_size=1000m;  </span></span><br><span class="line"></span><br><span class="line"><span class="comment"># server 区域下添加缓存配置 </span></span><br><span class="line"><span class="attr">location</span> <span class="string">~ \.(gif|jpg|png|htm|html|css|js)(.*) &#123;  </span></span><br><span class="line">    <span class="attr">proxy_pass</span> <span class="string">http://192.168.4.32:5000；#如果没有缓存则转向请求 </span></span><br><span class="line">    <span class="attr">proxy_redirect</span> <span class="string">off;   </span></span><br><span class="line">    <span class="attr">proxy_cache</span> <span class="string">cache_one;   </span></span><br><span class="line">    <span class="attr">proxy_cache_valid</span> <span class="string">200 1h;            #对不同的 HTTP 状态码设置不同的缓存时间  </span></span><br><span class="line">    <span class="attr">proxy_cache_valid</span> <span class="string">500 1d; </span></span><br><span class="line">    <span class="attr">proxy_cache_valid</span> <span class="string">any 1m;  </span></span><br><span class="line">    <span class="attr">expires</span> <span class="string">3d; </span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<p>expires 是给一个资源设定一个过期时间，通过 expires 参数设置，可以使浏览器缓存过期时间之前的内容，减少与服务器之间的请求和流量。也就是说无需去服务端验证，直接通过浏览器自身确认是否过期即可，所以不会产生额外的流量。此种方法非常适合不经常变动的资源。</p>
<h2 id="动静分离"><a href="#动静分离" class="headerlink" title="动静分离"></a>动静分离</h2><p>通过浏览器地址栏访问 <a href="http://www.abc.com/a.html" target="_blank" rel="noopener">www.abc.com/a.html</a> ，访问静态资源服务器的静态资源内容。通过浏览器地址栏访问 <a href="http://www.abc.com/a.jsp" target="_blank" rel="noopener">www.abc.com/a.jsp</a> ，访问动态资源服务器的动态资源内容。</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">upstream</span> <span class="string">static &#123;   </span></span><br><span class="line">    <span class="attr">server</span> <span class="string">192.167.4.31:80; </span></span><br><span class="line"><span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"></span><br><span class="line"><span class="attr">upstream</span> <span class="string">dynamic &#123;     </span></span><br><span class="line">    <span class="attr">server</span> <span class="string">192.167.4.32:8080; </span></span><br><span class="line"><span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"></span><br><span class="line"><span class="attr">server</span> <span class="string">&#123; </span></span><br><span class="line">    <span class="attr">listen</span>       <span class="string">80;   #监听端口  </span></span><br><span class="line">    <span class="attr">server_name</span>  <span class="string">www.abc.com; 监听地址 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">    # 拦截动态资源  </span></span><br><span class="line">    <span class="attr">location</span> <span class="string">~ .*\.(php|jsp)$ &#123;  </span></span><br><span class="line">        <span class="attr">proxy_pass</span> <span class="string">http://dynamic;</span></span><br><span class="line">    <span class="meta">&#125;</span>   <span class="string"></span></span><br><span class="line">      </span><br><span class="line"><span class="comment">    # 拦截静态资源 </span></span><br><span class="line">    <span class="attr">location</span> <span class="string">~ .*\.(jpg|png|htm|html|css|js)$ &#123;  </span></span><br><span class="line">        <span class="attr">root</span> <span class="string">/data/;  #html目录 </span></span><br><span class="line">        <span class="attr">proxy_pass</span> <span class="string">http://static;    </span></span><br><span class="line">        <span class="attr">autoindex</span> <span class="string">on;;  #自动打开文件列表  </span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="高可用"><a href="#高可用" class="headerlink" title="高可用"></a>高可用</h2><p>一般情况下，通过 nginx 主服务器访问后台目标服务集群，当主服务器挂掉后，自动切换至备份服务器，此时由备份服务器充当主服务器的角色，访问后端目标服务器。</p>
<p>准备两台nginx服务器，在两台 nginx 服务器上安 keepalived。</p>
<p>keepalived 相当于一个路由，它通过一个脚本来检测当前服务器是否还活着，如果还活着则继续访问，否则就切换到另一台备份服务器。</p>
<pre><code>//安装 keepalived
yum install keepalived -y  

//检查版本 
rpm -q -a keepalived 
keepalived-1.3.5-16.el7.x86_64</code></pre><p>修改主备服务器 /etc/keepalived/keepalivec.conf 配置文件（可直接替换），完成高可用主从配置。</p>
<p>keepalived 将 nginx 服务器绑定到一个虚拟 ip ， nginx 高可用集群对外统一暴露这个虚拟 ip，客户端都是通过访问这个虚拟 ip 来访问 nginx 服务器 。</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">global_defs</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">notification_email</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">acassen@firewall.loc</span></span><br><span class="line">        <span class="attr">failover@firewall.loc</span></span><br><span class="line">        <span class="attr">sysadmin@firewall.loc</span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">notification_email_from_Alexandre.Cassen@firewall.loc</span></span><br><span class="line">    <span class="attr">smtp_server</span> <span class="string">192.168.4.32  </span></span><br><span class="line">    <span class="attr">smtp_connect_timeout</span> <span class="string">30</span></span><br><span class="line">    <span class="attr">router_id</span> <span class="string">LVS_DEVEL  # 在 /etc/hosts 文件中配置，通过它能访问到我们的主机 </span></span><br><span class="line"><span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"></span><br><span class="line"><span class="attr">vrrp_script_chk_http_port</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">script</span> <span class="string">"/usr/local/src/nginx_check.sh" </span></span><br><span class="line">    <span class="attr">interval</span> <span class="string">2      # 检测脚本执行的时间间隔   </span></span><br><span class="line">    <span class="attr">weight</span> <span class="string">2        # 权重每次加2 </span></span><br><span class="line"><span class="meta">&#125;</span> <span class="string"></span></span><br><span class="line"></span><br><span class="line"><span class="attr">vrrp_instance</span> <span class="string">VI_1 &#123;  </span></span><br><span class="line">    <span class="attr">interface</span> <span class="string">ens7f0 # 网卡，需根据情况修改 </span></span><br><span class="line">    <span class="attr">state</span> <span class="string">MASTER    # 备份服务器上将 MASTER 改为 BACKUP  </span></span><br><span class="line">    <span class="attr">virtual_router_id</span> <span class="string">51 # 主备机的 virtual_router_id 必须相同   </span></span><br><span class="line">    <span class="attr">priority</span> <span class="string">100   # 主备机取不同的优先级，主机值较大，备份机值较小  </span></span><br><span class="line">    <span class="attr">advert_int</span> <span class="string">1  # 每隔多长时间（默认1s）发送一次心跳，检测服务器是否还活着 </span></span><br><span class="line"></span><br><span class="line">    <span class="attr">authentication</span> <span class="string">&#123;  </span></span><br><span class="line">    <span class="attr">auth_type</span> <span class="string">PASS     </span></span><br><span class="line">    <span class="attr">auth_pass</span> <span class="string">1111     </span></span><br><span class="line">    <span class="meta">&#125;</span>  <span class="string"></span></span><br><span class="line"></span><br><span class="line">    <span class="attr">virtual_ipaddress</span> <span class="string">&#123; </span></span><br><span class="line">        <span class="meta">192.168.1.100</span> <span class="string"># VRRP H 虚拟地址，可以绑定多个  </span></span><br><span class="line">    <span class="attr">&#125;</span></span><br><span class="line"><span class="attr">&#125;</span></span><br></pre></td></tr></table></figure>

<p>router_id： 在 /etc/hosts 文件中配置，通过它能访问到我们的主机。</p>
<pre><code>127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4   
::1         localhost localhost.localdomain localhost6 localhost6.localdomain6   
127.0.0.1   LVS_DEVEL</code></pre><p>interval： 设置脚本执行的间隔时间</p>
<p>weight： 当脚本执行失败即 keepalived 或 nginx 挂掉时，权重增加的值（可为负数）。</p>
<p>interface： 输入 ifconfig 命令查看当前的网卡名是什么。</p>
<pre><code>ens7f0: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500           
        inet 192.168.4.32  netmask 255.255.252.0  broadcast 192.168.7.255           
        inet6 fe80::e273:9c3c:e675:7c60  prefixlen 64  scopeid 0x20&lt;link&gt;           
        ... ... 
 ... ...</code></pre><p>在 /usr/local/src 目录下添加检测脚本 nginx_check.sh</p>
<figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/bin/bash </span></span><br><span class="line"><span class="attr">A</span>=<span class="string">`ps -C nginx -no-header |wc -l` </span></span><br><span class="line"></span><br><span class="line"><span class="attr">if</span> <span class="string">[ $A -eq 0 ];then </span></span><br><span class="line">    <span class="meta">/usr/local/nginx/sbin/nginx</span>  <span class="string"></span></span><br><span class="line">    <span class="attr">sleep</span> <span class="string">2 </span></span><br><span class="line">    </span><br><span class="line">    <span class="attr">if</span> <span class="string">[ ps -C nginx -no-header |wc -l` -eq 0 ];then  </span></span><br><span class="line">        <span class="attr">killall</span> <span class="string">keepalived </span></span><br><span class="line">    <span class="attr">fi</span> <span class="string"></span></span><br><span class="line"><span class="attr">fi</span></span><br></pre></td></tr></table></figure>

<p>启动两台服务器的 nginx 和 keepalived。</p>
<pre><code>//启动 nginx 
./nginx  

//启动 keepalived 
systemctl start keepalived.service</code></pre><p>查看虚拟 ip 地址 ip a 。把主服务器 192.168.4.32 nginx 和 keepalived停止，再访问虚拟 ip 查看高可用效果。</p>
<h1 id="原理解析"><a href="#原理解析" class="headerlink" title="原理解析"></a>原理解析</h1><p><img src="/images/Nginx%E2%80%94%E2%80%94%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%AE%9E%E6%88%98_2020-07-27-15-14-39.png" alt="Nginx——配置文件实战_2020-07-27-15-14-39.png"></p>
<p>Nginx 启动之后，在 Linux 系统中有两个进程，一个为 master，一个为 worker。master 作为管理员不参与任何工作，只负责给多个 worker 分配不同的任务（worker 一般有多个）。</p>
<p>客户端发送一个请求首先要经过 master，管理员收到请求后会将请求通知给 worker，多个 worker 以争抢的机制来抢夺任务，得到任务的 worker 会将请求经由 tomcat 等做请求转发、反向代理、访问数据库等（nginx 本身是不直接支持 java 的）。</p>
<p>Nginx 和 redis 类似，都采用了 io 多路复用机制，每个 worker 都是一个独立的进程，每个进程里只有一个主线程，通过异步非阻塞的方式来处理请求，每个 worker 的线程可以把一个 cpu 的性能发挥到极致，因此，worker 数和服务器的 cpu 数相等是最为适宜的。</p>
 
    </div>
    
    <div class="article-info article-info-index">
       
  
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>
    

  
    <article
  id="post-Nginx——介绍与安装"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
>
  
  <div class="article-meta">
    <a href="/2020/07/27/Nginx%E2%80%94%E2%80%94%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%AE%89%E8%A3%85/" class="article-date">
      <time datetime="2020-07-27T06:04:31.000Z" itemprop="datePublished">2020-07-27</time>
</a>

 
    <a href="/2020/07/27/Nginx%E2%80%94%E2%80%94%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%AE%89%E8%A3%85/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2020/07/27/Nginx——介绍与安装/"></span>
        
    </a>

  </div>
  
  <div class="article-inner">
    
    <input type="hidden" class="isFancy" />
     
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/27/Nginx%E2%80%94%E2%80%94%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%AE%89%E8%A3%85/">Nginx——介绍与安装</a>
    </h1>
  
 
    </header>
     
    <div class="article-entry" itemprop="articleBody">
        <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>Nginx 是开源的轻量级 Web 服务器、反向代理服务器，以及负载均衡器和 HTTP 缓存器。其特点是高并发，高性能和低内存。</p>
<p>Nginx 专为性能优化而开发，性能是其最重要的考量，实现上非常注重效率，能经受高负载的考验，最大能支持 50000 个并发连接数。 Nginx 还支持热部署，它的使用特别容易，几乎可以做到 7x24 小时不间断运行。</p>
<h1 id="反向代理"><a href="#反向代理" class="headerlink" title="反向代理"></a>反向代理</h1><ol>
<li><p>正向代理</p>
<p> Nginx 不仅可以做反向代理，实现负载均衡，还能用做正向代理来进行上网等功能。</p>
</li>
</ol>
<pre><code>![Nginx——介绍与安装_2020-07-27-14-07-31.png](/images/Nginx——介绍与安装_2020-07-27-14-07-31.png)</code></pre><ol start="2">
<li><p>反向代理</p>
<p>客户端对代理服务器是无感知的，客户端不需要做任何配置，用户只请求反向代理服务器，反向代理服务器选择目标服务器，获取数据后再返回给客户端。反向代理服务器和目标服务器对外而言就是一个服务器，只是暴露的是代理服务器地址，而隐藏了真实服务器的IP地址。</p>
<p><img src="/images/Nginx%E2%80%94%E2%80%94%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%AE%89%E8%A3%85_2020-07-27-14-08-35.png" alt="Nginx——介绍与安装_2020-07-27-14-08-35.png"></p>
</li>
</ol>
<h1 id="负载均衡"><a href="#负载均衡" class="headerlink" title="负载均衡"></a>负载均衡</h1><p>将原先请求集中到单个服务器上的情况改为增加服务器的数量，然后将请求分发到各个服务器上，将负载分发到不同的服务器，即负载均衡。</p>
<p><img src="/images/Nginx%E2%80%94%E2%80%94%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%AE%89%E8%A3%85_2020-07-27-14-09-08.png" alt="Nginx——介绍与安装_2020-07-27-14-09-08.png"></p>
<h1 id="动静分离"><a href="#动静分离" class="headerlink" title="动静分离"></a>动静分离</h1><p>为了加快网站的解析速度，可以把静态页面和动态页面由不同的服务器来解析，加快解析速度，降低原来单个服务器的压力。</p>
<p><img src="/images/Nginx%E2%80%94%E2%80%94%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%AE%89%E8%A3%85_2020-07-27-14-10-09.png" alt="Nginx——介绍与安装_2020-07-27-14-10-09.png"></p>
<h1 id="高可用"><a href="#高可用" class="headerlink" title="高可用"></a>高可用</h1><p>为了提高系统的可用性和容错能力，可以增加nginx服务器的数量，当主服务器发生故障或宕机，备份服务器可以立即充当主服务器进行不间断工作。</p>
<p><img src="/images/Nginx%E2%80%94%E2%80%94%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%AE%89%E8%A3%85_2020-07-27-14-11-38.png" alt="Nginx——介绍与安装_2020-07-27-14-11-38.png"></p>
<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>安装环境 Ubuntu 18.04</p>
<p>安装</p>
<pre><code>//更新包
sudo apt-get update
//下载安装nginx
sudo apt-get install nginx</code></pre><p>测试安装</p>
<pre><code>sudo nginx -t</code></pre><p>显示：</p>
<pre><code>nginx: the configuration file /etc/nginx/nginx.conf syntax is ok
nginx: configuration file /etc/nginx/nginx.conf test is successful</code></pre><p>重启nginx</p>
<pre><code>sudo service nginx restart</code></pre><h1 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h1><p>删除nginx，-purge包括配置文件</p>
<pre><code>sudo apt-get --purge remove nginx</code></pre><p>移除全部不使用的软件包</p>
<pre><code>sudo apt-get autoremove</code></pre><p>罗列出与nginx相关的软件并删除</p>
<pre><code>dpkg --get-selections|grep nginx
sudo apt-get --purge remove nginx
sudo apt-get --purge remove nginx-common
sudo apt-get --purge remove nginx-core</code></pre><p>查看nginx正在运行的进程，如果有就kill掉</p>
<pre><code>ps -ef |grep nginx
sudo kill -9 XXX</code></pre><h1 id="配置nginx"><a href="#配置nginx" class="headerlink" title="配置nginx"></a>配置nginx</h1><p>安装完成后</p>
<pre><code>cd /etc/nginx</code></pre><p>查看目录，显示如下：</p>
<p><img src="/images/Nginx%E2%80%94%E2%80%94%E4%BB%8B%E7%BB%8D%E4%B8%8E%E5%AE%89%E8%A3%85_2020-07-27-14-25-25.png" alt="Nginx——介绍与安装_2020-07-27-14-25-25.png"></p>
<p>最新版本nginx配置是由4个文件构成：</p>
<ol>
<li><code>conf.d</code>：用户自己定义的conf配置文件</li>
<li><code>sites-available</code>：系统默认设置的配置文件</li>
<li><code>sites-enabled</code>：由sites-available中的配置文件转换生成</li>
<li><code>nginx.conf</code>：汇总以上三个配置文件的内容，同时配置我们所需要的参数</li>
</ol>
<p>在部署需要的web服务时，我们可以拷贝sites-enabled中的default文件到conf.d并且修改名字为**.conf,然后进行配置,每次配置完都要重启nginx。</p>
<p>具体配置详见 <a href="/2020/07/27/Nginx%E2%80%94%E2%80%94%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%AE%9E%E6%88%98/" title="Nginx——配置文件实战">Nginx——配置文件实战</a></p>
 
    </div>
    
    <div class="article-info article-info-index">
       
  
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>
    

  
    <article
  id="post-Tomcat——性能优化（三）"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
>
  
  <div class="article-meta">
    <a href="/2020/07/24/Tomcat%E2%80%94%E2%80%94%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%EF%BC%88%E4%B8%89%EF%BC%89/" class="article-date">
      <time datetime="2020-07-24T03:02:16.000Z" itemprop="datePublished">2020-07-24</time>
</a>

 
    <a href="/2020/07/24/Tomcat%E2%80%94%E2%80%94%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%EF%BC%88%E4%B8%89%EF%BC%89/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2020/07/24/Tomcat——性能优化（三）/"></span>
        
    </a>

  </div>
  
  <div class="article-inner">
    
    <input type="hidden" class="isFancy" />
     
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/24/Tomcat%E2%80%94%E2%80%94%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%EF%BC%88%E4%B8%89%EF%BC%89/">Tomcat——性能优化（三）</a>
    </h1>
  
 
    </header>
     
    <div class="article-entry" itemprop="articleBody">
        Tomcat服务器优化方法  
    </div>
    
    <div class="article-info article-info-index">
       
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Tomcat/">Tomcat</a>
    </div>

 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tomcat-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" rel="tag">tomcat 性能优化</a></li></ul>
    </div>
 
      <p class="article-more-link">
        <a href="/2020/07/24/Tomcat%E2%80%94%E2%80%94%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%EF%BC%88%E4%B8%89%EF%BC%89/#more">more >></a>
      </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>
    

  
    <article
  id="post-Tomcat——配置（二）"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
>
  
  <div class="article-meta">
    <a href="/2020/07/24/Tomcat%E2%80%94%E2%80%94%E9%85%8D%E7%BD%AE%EF%BC%88%E4%BA%8C%EF%BC%89/" class="article-date">
      <time datetime="2020-07-24T02:16:47.000Z" itemprop="datePublished">2020-07-24</time>
</a>

 
    <a href="/2020/07/24/Tomcat%E2%80%94%E2%80%94%E9%85%8D%E7%BD%AE%EF%BC%88%E4%BA%8C%EF%BC%89/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2020/07/24/Tomcat——配置（二）/"></span>
        
    </a>

  </div>
  
  <div class="article-inner">
    
    <input type="hidden" class="isFancy" />
     
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/24/Tomcat%E2%80%94%E2%80%94%E9%85%8D%E7%BD%AE%EF%BC%88%E4%BA%8C%EF%BC%89/">Tomcat——配置（二）</a>
    </h1>
  
 
    </header>
     
    <div class="article-entry" itemprop="articleBody">
        tomcat配置文件详解  
    </div>
    
    <div class="article-info article-info-index">
       
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Tomcat/">Tomcat</a>
    </div>

 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tomcat-%E9%85%8D%E7%BD%AE/" rel="tag">tomcat 配置</a></li></ul>
    </div>
 
      <p class="article-more-link">
        <a href="/2020/07/24/Tomcat%E2%80%94%E2%80%94%E9%85%8D%E7%BD%AE%EF%BC%88%E4%BA%8C%EF%BC%89/#more">more >></a>
      </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>
    

  
    <article
  id="post-Tomcat——解析（一）"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
>
  
  <div class="article-meta">
    <a href="/2020/07/24/Tomcat%E2%80%94%E2%80%94%E8%A7%A3%E6%9E%90%EF%BC%88%E4%B8%80%EF%BC%89/" class="article-date">
      <time datetime="2020-07-24T01:24:42.000Z" itemprop="datePublished">2020-07-24</time>
</a>

 
    <a href="/2020/07/24/Tomcat%E2%80%94%E2%80%94%E8%A7%A3%E6%9E%90%EF%BC%88%E4%B8%80%EF%BC%89/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2020/07/24/Tomcat——解析（一）/"></span>
        
    </a>

  </div>
  
  <div class="article-inner">
    
    <input type="hidden" class="isFancy" />
     
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/24/Tomcat%E2%80%94%E2%80%94%E8%A7%A3%E6%9E%90%EF%BC%88%E4%B8%80%EF%BC%89/">Tomcat——解析（一）</a>
    </h1>
  
 
    </header>
     
    <div class="article-entry" itemprop="articleBody">
        tomcat的架构解析  
    </div>
    
    <div class="article-info article-info-index">
       
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Tomacat/">Tomacat</a>
    </div>

 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tomcat-%E8%A7%A3%E6%9E%90/" rel="tag">tomcat 解析</a></li></ul>
    </div>
 
      <p class="article-more-link">
        <a href="/2020/07/24/Tomcat%E2%80%94%E2%80%94%E8%A7%A3%E6%9E%90%EF%BC%88%E4%B8%80%EF%BC%89/#more">more >></a>
      </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>
    

  
    <article
  id="post-JAVA基础——IO"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
>
  
  <div class="article-meta">
    <a href="/2020/07/22/JAVA%E5%9F%BA%E7%A1%80%E2%80%94%E2%80%94IO/" class="article-date">
      <time datetime="2020-07-22T07:11:54.000Z" itemprop="datePublished">2020-07-22</time>
</a>

 
    <a href="/2020/07/22/JAVA%E5%9F%BA%E7%A1%80%E2%80%94%E2%80%94IO/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2020/07/22/JAVA基础——IO/"></span>
        
    </a>

  </div>
  
  <div class="article-inner">
    
    <input type="hidden" class="isFancy" />
     
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/22/JAVA%E5%9F%BA%E7%A1%80%E2%80%94%E2%80%94IO/">JAVA——IO</a>
    </h1>
  
 
    </header>
     
    <div class="article-entry" itemprop="articleBody">
        java输入输出流  
    </div>
    
    <div class="article-info article-info-index">
       
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/JAVA/">JAVA</a>
    </div>

 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java-IO/" rel="tag">java IO</a></li></ul>
    </div>
 
      <p class="article-more-link">
        <a href="/2020/07/22/JAVA%E5%9F%BA%E7%A1%80%E2%80%94%E2%80%94IO/#more">more >></a>
      </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>
    

  
    <article
  id="post-JAVA基础——异常"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
>
  
  <div class="article-meta">
    <a href="/2020/07/22/JAVA%E5%9F%BA%E7%A1%80%E2%80%94%E2%80%94%E5%BC%82%E5%B8%B8/" class="article-date">
      <time datetime="2020-07-22T06:31:56.000Z" itemprop="datePublished">2020-07-22</time>
</a>

 
    <a href="/2020/07/22/JAVA%E5%9F%BA%E7%A1%80%E2%80%94%E2%80%94%E5%BC%82%E5%B8%B8/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2020/07/22/JAVA基础——异常/"></span>
        
    </a>

  </div>
  
  <div class="article-inner">
    
    <input type="hidden" class="isFancy" />
     
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/22/JAVA%E5%9F%BA%E7%A1%80%E2%80%94%E2%80%94%E5%BC%82%E5%B8%B8/">JAVA基础——异常</a>
    </h1>
  
 
    </header>
     
    <div class="article-entry" itemprop="articleBody">
        java异常理解和处理  
    </div>
    
    <div class="article-info article-info-index">
       
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/JAVA/">JAVA</a>
    </div>

 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java-%E5%BC%82%E5%B8%B8/" rel="tag">java 异常</a></li></ul>
    </div>
 
      <p class="article-more-link">
        <a href="/2020/07/22/JAVA%E5%9F%BA%E7%A1%80%E2%80%94%E2%80%94%E5%BC%82%E5%B8%B8/#more">more >></a>
      </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>
    

  
    <article
  id="post-JAVA基础——泛型"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
>
  
  <div class="article-meta">
    <a href="/2020/07/22/JAVA%E5%9F%BA%E7%A1%80%E2%80%94%E2%80%94%E6%B3%9B%E5%9E%8B/" class="article-date">
      <time datetime="2020-07-22T01:24:51.000Z" itemprop="datePublished">2020-07-22</time>
</a>

 
    <a href="/2020/07/22/JAVA%E5%9F%BA%E7%A1%80%E2%80%94%E2%80%94%E6%B3%9B%E5%9E%8B/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2020/07/22/JAVA基础——泛型/"></span>
        
    </a>

  </div>
  
  <div class="article-inner">
    
    <input type="hidden" class="isFancy" />
     
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/22/JAVA%E5%9F%BA%E7%A1%80%E2%80%94%E2%80%94%E6%B3%9B%E5%9E%8B/">JAVA基础——泛型</a>
    </h1>
  
 
    </header>
     
    <div class="article-entry" itemprop="articleBody">
        java泛型的理解和应用  
    </div>
    
    <div class="article-info article-info-index">
       
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/JAVA/">JAVA</a>
    </div>

 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java-%E6%B3%9B%E5%9E%8B/" rel="tag">java 泛型</a></li></ul>
    </div>
 
      <p class="article-more-link">
        <a href="/2020/07/22/JAVA%E5%9F%BA%E7%A1%80%E2%80%94%E2%80%94%E6%B3%9B%E5%9E%8B/#more">more >></a>
      </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>
    

  
    <article
  id="post-JAVA基础——反射"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
>
  
  <div class="article-meta">
    <a href="/2020/07/21/JAVA%E5%9F%BA%E7%A1%80%E2%80%94%E2%80%94%E5%8F%8D%E5%B0%84/" class="article-date">
      <time datetime="2020-07-21T06:41:24.000Z" itemprop="datePublished">2020-07-21</time>
</a>

 
    <a href="/2020/07/21/JAVA%E5%9F%BA%E7%A1%80%E2%80%94%E2%80%94%E5%8F%8D%E5%B0%84/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2020/07/21/JAVA基础——反射/"></span>
        
    </a>

  </div>
  
  <div class="article-inner">
    
    <input type="hidden" class="isFancy" />
     
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/21/JAVA%E5%9F%BA%E7%A1%80%E2%80%94%E2%80%94%E5%8F%8D%E5%B0%84/">JAVA基础——反射</a>
    </h1>
  
 
    </header>
     
    <div class="article-entry" itemprop="articleBody">
        反射理解与应用  
    </div>
    
    <div class="article-info article-info-index">
       
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/JAVA/">JAVA</a>
    </div>

 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java-%E5%8F%8D%E5%B0%84/" rel="tag">java 反射</a></li></ul>
    </div>
 
      <p class="article-more-link">
        <a href="/2020/07/21/JAVA%E5%9F%BA%E7%A1%80%E2%80%94%E2%80%94%E5%8F%8D%E5%B0%84/#more">more >></a>
      </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>
    

  
    <article
  id="post-Elasticsearch——使用（五）"
  class="article article-type-post"
  itemscope
  itemprop="blogPost"
>
  
  <div class="article-meta">
    <a href="/2020/07/20/Elasticsearch%E2%80%94%E2%80%94%E4%BD%BF%E7%94%A8%EF%BC%88%E4%BA%94%EF%BC%89/" class="article-date">
      <time datetime="2020-07-20T08:01:37.000Z" itemprop="datePublished">2020-07-20</time>
</a>

 
    <a href="/2020/07/20/Elasticsearch%E2%80%94%E2%80%94%E4%BD%BF%E7%94%A8%EF%BC%88%E4%BA%94%EF%BC%89/#comments" title="查看评论">
        <i class="fa fa-comments-o" aria-hidden="true"></i>
        <span class="count-comment"></span>
        
        
            <span class="disqus-comment-count" data-disqus-identifier="2020/07/20/Elasticsearch——使用（五）/"></span>
        
    </a>

  </div>
  
  <div class="article-inner">
    
    <input type="hidden" class="isFancy" />
     
    <header class="article-header">
      
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/20/Elasticsearch%E2%80%94%E2%80%94%E4%BD%BF%E7%94%A8%EF%BC%88%E4%BA%94%EF%BC%89/">Elasticsearch——使用（五）</a>
    </h1>
  
 
    </header>
     
    <div class="article-entry" itemprop="articleBody">
        java、springBoot使用Elasticsearch搜索引擎  
    </div>
    
    <div class="article-info article-info-index">
       
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Elasticsearch/">Elasticsearch</a>
    </div>

 
    <div class="article-tag tagcloud">
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Elasticsearch-%E4%BD%BF%E7%94%A8/" rel="tag">Elasticsearch 使用</a></li></ul>
    </div>
 
      <p class="article-more-link">
        <a href="/2020/07/20/Elasticsearch%E2%80%94%E2%80%94%E4%BD%BF%E7%94%A8%EF%BC%88%E4%BA%94%EF%BC%89/#more">more >></a>
      </p>
      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>
    

  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/19/">19</a><a class="extend next" rel="next" href="/page/2/">Next &amp;raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2019-2020 南有乔木
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>


    

    
        <script id="dsq-count-scr" src="//qnsite.disqus.com/count.js" async></script>
        <script>
            if ($(".left-col").is(":visible")) {
                var $disqusCount = $(".disqus-comment-count");
                $disqusCount.bind("DOMNodeInserted", function(e) {
                    var num = $(this).text().replace(/[^0-9]/ig,"");
                    if (num > 0) {
                        $(this).siblings(".count-comment").text(num);
                    }
                    $(this).remove();
                })
            } else {
                $(".disqus-comment-count").remove();
            }
        </script>
     




<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
            
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>